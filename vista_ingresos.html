<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KÓMODO — Ingresos</title>
  <link rel="stylesheet" href="css/styles.css" />
  <script type="module">
    import { guard } from "./js/roles.js";
    guard(["admin"], "index.html"); // Solo admin ve esta vista
  </script>
</head>
<body>
  <header class="header">
  <div class="wrap header__inner">
    <a class="brand" href="index.html" aria-label="Inicio KÓMODO">
      <img src="img/k_logo.png" alt="KÓMODO" class="brand__logo" />
    </a>
    </div>
    <nav class="tabs">
      <div class="wrap tabs__row" role="tablist" aria-label="Admin">
        <a class="tab is-active" href="vista_ingresos.html" aria-selected="true">Ingresos</a>
        <a class="tab" href="vista_reservas.html">Reservas</a>
        <a class="tab" href="vista_inventario.html">Inventario</a>
        <a class="tab" href="vista_solicitudes.html">Solicitudes</a>
      </div>
    </nav>
  </header>

  <main class="wrap" style="padding: 28px 0 60px;">
    <h1 style="margin:0 0 18px;">Resumen de ingresos</h1>
    <p class="muted" style="margin:0 0 18px;">* Maqueta con datos locales; cuando conectemos pagos estos montos serán reales.</p>

    <!-- KPIs -->
    <section class="grid4">
      <article class="k-card"><div class="k-card__title">Hoy</div><div id="k_today_amount" class="k-card__value">$0</div><div id="k_today_count" class="k-card__hint">0 pagos</div></article>
      <article class="k-card"><div class="k-card__title">Esta semana</div><div id="k_week_amount" class="k-card__value">$0</div><div id="k_week_count" class="k-card__hint">0 pagos</div></article>
      <article class="k-card"><div class="k-card__title">Este mes</div><div id="k_month_amount" class="k-card__value">$0</div><div id="k_month_count" class="k-card__hint">0 pagos</div></article>
      <article class="k-card"><div class="k-card__title">Total registrado</div><div id="k_total_amount" class="k-card__value">$0</div><div id="k_total_count" class="k-card__hint">0 pagos</div></article>
    </section>

    <!-- Tabla -->
    <section style="margin-top:28px;">
      <h2 style="margin:0 0 14px;">Últimos movimientos</h2>
      <div class="table-scroll">
        <table class="k-table" id="tbl_mov">
          <thead>
            <tr>
              <th>Fecha</th><th>Cliente</th><th>Servicio</th><th>Método</th><th class="ta-r">Monto</th><th>Reserva</th>
            </tr>
          </thead>
          <tbody><!-- admin.js pinta filas --></tbody>
        </table>
      </div>
    </section>
  </main>

  <footer class="footer"><div class="wrap"><small>© <span id="year"></span> KÓMODO — Proyecto académico</small></div></footer>
  <script src="js/admin.js"></script>
</body>
</html>
